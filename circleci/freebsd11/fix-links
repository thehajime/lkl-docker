#!/bin/bash
# the freebsd ISO has a bug, soft-links are not done properly
# so they get eaten

ll() {
    ln -sf /freebsd/x86_64-pc-freebsd11/lib/$1 /freebsd/x86_64-pc-freebsd11/lib/$2
}

li() {
    ln -sf /freebsd/x86_64-pc-freebsd11/include/$1  /freebsd/x86_64-pc-freebsd11/include/$2
}

ll libalias.so.7 libalias.so
ll libarchive.so.6 libarchive.so
ll libasn1.so.10 libasn1.so
ll libauditd.so.5 libauditd.so
ll libavl.so.2 libavl.so
ll libbegemot.so.4 libbegemot.so
ll libbluetooth.so.4 libbluetooth.so
ll libbsdxml.so.4 libbsdxml.so
ll libbsm.so.3 libbsm.so
ll libbsnmp.so.5 libbsnmp.so
ll libbz2.so.4 libbz2.so
ll libc.so.7 libc.so
ll libcalendar.so.5 libcalendar.so
ll libcam.so.5 libcam.so
ll libcom_err.so.5 libcom_err.so
ll libcrypt.so.5 libcrypt.so
ll libcrypto.so.6 libcrypto.so
ll libctf.so.2 libctf.so
ll libncurses.a libcurses.a
ll libncurses.so libcurses.so
ll libncurses_p.a libcurses_p.a
ll libncursesw.a libcursesw.a
ll libncursesw.so libcursesw.so
ll libncursesw_p.a libcursesw_p.a
ll libdevinfo.so.5 libdevinfo.so
ll libdevstat.so.7 libdevstat.so
ll libdialog.so.7 libdialog.so
ll libdialog_tty.so.1 libdialog_tty.so
ll libdtrace.so.2 libdtrace.so
ll libdwarf.so.2 libdwarf.so
ll libedit.so.7 libedit.so
ll libelf.so.1 libelf.so
ll libfetch.so.6 libfetch.so
ll libform.so.5 libform.so
ll libformw.so.5 libformw.so
ll libftpio.so.8 libftpio.so
ll libgcc_s.so.1 libgcc_s.so
ll libgeom.so.5 libgeom.so
ll libgnuregex.so.5 libgnuregex.so
ll libgomp.so.1 libgomp.so
ll libgpib.so.3 libgpib.so
ll libgssapi.so.10 libgssapi.so
ll libgssapi_krb5.so.10 libgssapi_krb5.so
ll libgssapi_ntlm.so.10 libgssapi_ntlm.so
ll libgssapi_spnego.so.10 libgssapi_spnego.so
ll libhdb.so.10 libhdb.so
ll libheimntlm.so.10 libheimntlm.so
ll libhistory.so.8 libhistory.so
ll libhx509.so.10 libhx509.so
ll libipsec.so.4 libipsec.so
ll libipx.so.5 libipx.so
ll libjail.so.1 libjail.so
ll libkadm5clnt.so.10 libkadm5clnt.so
ll libkadm5srv.so.10 libkadm5srv.so
ll libkafs5.so.10 libkafs5.so
ll libkiconv.so.4 libkiconv.so
ll libkrb5.so.10 libkrb5.so
ll libkvm.so.5 libkvm.so
ll liblwres.so.50 liblwres.so
ll liblzma.so.5 liblzma.so
ll libm.so.5 libm.so
ll libmagic.so.4 libmagic.so
ll libmd.so.5 libmd.so
ll libmemstat.so.3 libmemstat.so
ll libmenu.so.5 libmenu.so
ll libmenuw.so.5 libmenuw.so
ll libmilter.so.5 libmilter.so
ll libmp.so.7 libmp.so
ll libncp.so.4 libncp.so
ll libncurses.so.8 libncurses.so
ll libncursesw.so.8 libncursesw.so
ll libnetgraph.so.4 libnetgraph.so
ll libngatm.so.4 libngatm.so
ll libnvpair.so.2 libnvpair.so
ll libobjc.so.4 libobjc.so
ll libopie.so.6 libopie.so
ll libpam.so.5 libpam.so
ll libpanel.so.5 libpanel.so
ll libpanelw.so.5 libpanelw.so
ll libpcap.so.7 libpcap.so
ll libpmc.so.5 libpmc.so
ll libproc.so.2 libproc.so
ll libthr.a libpthread.a
ll libthr.so libpthread.so
ll libthr_p.a libpthread_p.a
ll libradius.so.4 libradius.so
ll libreadline.so.8 libreadline.so
ll libroken.so.10 libroken.so
ll librpcsec_gss.so.1 librpcsec_gss.so
ll librpcsvc.so.5 librpcsvc.so
ll librt.so.1 librt.so
ll librtld_db.so.1 librtld_db.so
ll libsbuf.so.5 libsbuf.so
ll libsdp.so.4 libsdp.so
ll libsmb.so.4 libsmb.so
ll libssh.so.5 libssh.so
ll libssl.so.6 libssl.so
ll libssp.so.0 libssp.so
ll libstdc++.so.6 libstdc++.so
ll libtacplus.so.4 libtacplus.so
ll libncurses.a libtermcap.a
ll libncurses.so libtermcap.so
ll libncurses_p.a libtermcap_p.a
ll libncursesw.a libtermcapw.a
ll libncursesw.so libtermcapw.so
ll libncursesw_p.a libtermcapw_p.a
ll libncurses.a libtermlib.a
ll libncurses.so libtermlib.so
ll libncurses_p.a libtermlib_p.a
ll libncursesw.a libtermlibw.a
ll libncursesw.so libtermlibw.so
ll libncursesw_p.a libtermlibw_p.a
ll libthr.so.3 libthr.so
ll libthread_db.so.3 libthread_db.so
ll libncurses.a libtinfo.a
ll libncurses.so libtinfo.so
ll libncurses_p.a libtinfo_p.a
ll libncursesw.a libtinfow.a
ll libncursesw.so libtinfow.so
ll libncursesw_p.a libtinfow_p.a
ll libufs.so.5 libufs.so
ll libugidfw.so.4 libugidfw.so
ll libumem.so.2 libumem.so
ll libusb.so.2 libusb.so
ll libusbhid.so.4 libusbhid.so
ll libutil.so.8 libutil.so
ll libuutil.so.2 libuutil.so
ll libvgl.so.6 libvgl.so
ll libwrap.so.6 libwrap.so
ll libypclnt.so.4 libypclnt.so
ll libz.so.5 libz.so
ll libzfs.so.2 libzfs.so
ll libzpool.so.2 libzpool.so
ll pam_chroot.so.5 pam_chroot.so
ll pam_deny.so.5 pam_deny.so
ll pam_echo.so.5 pam_echo.so
ll pam_exec.so.5 pam_exec.so
ll pam_ftpusers.so.5 pam_ftpusers.so
ll pam_group.so.5 pam_group.so
ll pam_guest.so.5 pam_guest.so
ll pam_krb5.so.5 pam_krb5.so
ll pam_ksu.so.5 pam_ksu.so
ll pam_lastlog.so.5 pam_lastlog.so
ll pam_login_access.so.5 pam_login_access.so
ll pam_nologin.so.5 pam_nologin.so
ll pam_opie.so.5 pam_opie.so
ll pam_opieaccess.so.5 pam_opieaccess.so
ll pam_passwdqc.so.5 pam_passwdqc.so
ll pam_permit.so.5 pam_permit.so
ll pam_radius.so.5 pam_radius.so
ll pam_rhosts.so.5 pam_rhosts.so
ll pam_rootok.so.5 pam_rootok.so
ll pam_securetty.so.5 pam_securetty.so
ll pam_self.so.5 pam_self.so
ll pam_ssh.so.5 pam_ssh.so
ll pam_tacplus.so.5 pam_tacplus.so
ll pam_unix.so.5 pam_unix.so
ll snmp_atm.so.6 snmp_atm.so
ll snmp_bridge.so.6 snmp_bridge.so
ll snmp_hostres.so.6 snmp_hostres.so
ll snmp_mibII.so.6 snmp_mibII.so
ll snmp_netgraph.so.6 snmp_netgraph.so
ll snmp_pf.so.6 snmp_pf.so

li sys/_semaphore.h ./_semaphore.h
li sys/aio.h ./aio.h
li sys/errno.h ./errno.h
li sys/fcntl.h ./fcntl.h
li machine/float.h ./float.h
li machine/floatingpoint.h ./floatingpoint.h
li sys/linker_set.h ./linker_set.h
li curses.h ./ncurses.h
li sys/poll.h ./poll.h
li sys/sched.h ./sched.h
li machine/stdarg.h ./stdarg.h
li sys/stdint.h ./stdint.h
li sys/syslog.h ./syslog.h
li sys/termios.h ./termios.h
li sys/ucontext.h ./ucontext.h

ln -sf /freebsd/lib/gcc/x86_64-pc-freebsd11/6.4.0/libgcc.a /freebsd/x86_64-pc-freebsd11/lib/libgcc.a
ln -sf /freebsd/lib/gcc/x86_64-pc-freebsd11/6.4.0/libgcc_p.a /freebsd/x86_64-pc-freebsd11/lib/libgcc_p.a

